<Controls:MetroWindow
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls" x:Class="WeSketch.App.Forms.FormWorkspace"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:local="clr-namespace:WeSketch.App.Forms"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:s="clr-namespace:WeSketch.App.Data.Shapes"
    mc:Ignorable="d"
        BorderThickness="2" 
        GlowBrush="{DynamicResource AccentColorBrush}"    
        Title="WeSketch - Workspace" Height="447.846" Width="643.598" WindowState="Maximized" Loaded="MetroWindow_Loaded" KeyUp="MetroWindow_KeyUp" Closing="MetroWindow_Closing">

    <Window.Resources>

        <!-- MoveThumb Template -->
        <ControlTemplate x:Key="MoveThumbTemplate" TargetType="{x:Type s:MoveThumb}">
            <Rectangle Fill="Transparent"/>
        </ControlTemplate>

        <!-- ResizeDecorator Template -->
        <ControlTemplate x:Key="ResizeDecoratorTemplate" TargetType="{x:Type Control}">
            <Grid>
                <s:ResizeThumb Height="3" Cursor="SizeNS" Margin="0 -4 0 0"
                       VerticalAlignment="Top" HorizontalAlignment="Stretch"/>
                <s:ResizeThumb Width="3" Cursor="SizeWE" Margin="-4 0 0 0"
                       VerticalAlignment="Stretch" HorizontalAlignment="Left"/>
                <s:ResizeThumb Width="3" Cursor="SizeWE" Margin="0 0 -4 0"
                       VerticalAlignment="Stretch" HorizontalAlignment="Right"/>
                <s:ResizeThumb Height="3" Cursor="SizeNS" Margin="0 0 0 -4"
                       VerticalAlignment="Bottom" HorizontalAlignment="Stretch"/>
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNWSE" Margin="-6 -6 0 0"
                       VerticalAlignment="Top" HorizontalAlignment="Left"/>
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNESW" Margin="0 -6 -6 0"
                       VerticalAlignment="Top" HorizontalAlignment="Right"/>
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNESW" Margin="-6 0 0 -6"
                       VerticalAlignment="Bottom" HorizontalAlignment="Left"/>
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNWSE" Margin="0 0 -6 -6"
                       VerticalAlignment="Bottom" HorizontalAlignment="Right"/>
            </Grid>
        </ControlTemplate>


        <!-- Designer Item Template-->
        <ControlTemplate x:Key="DesignerItemTemplate" TargetType="ContentControl">
            <Grid DataContext="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                <s:MoveThumb Template="{StaticResource MoveThumbTemplate}" Cursor="SizeAll"/>
                <Control Template="{StaticResource ResizeDecoratorTemplate}"/>
                <ContentPresenter Content="{TemplateBinding ContentControl.Content}"/>
            </Grid>
        </ControlTemplate>

    </Window.Resources>
    
    <Grid>
        <Canvas x:Name="canvas" Margin="164,44,272,10" Background="#FFF8FFA4" KeyUp="canvas_KeyUp">
            
        </Canvas>
        <Button x:Name="btnEnableCT" Content="Enable Drawing" Margin="0,10,496,0" VerticalAlignment="Top" Click="btnEnableCT_Click" HorizontalAlignment="Right" Width="126"/>
        <DataGrid x:Name="dataGridCollaborators" Margin="0,44,10,268" HorizontalAlignment="Right" Width="257"/>
        <Button x:Name="btnSave" Content="Save" Margin="0,10,403,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="88" Click="btnSave_Click"/>
        <Button x:Name="btnAddCollaborator" Content="Add collaborator" Margin="0,10,272,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="126" Click="btnAddCollaborator_Click"/>
        <Button x:Name="btnRemoveCollaborator" Content="Remove collaborator" Margin="0,10,115,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="152" Click="btnRemoveCollaborator_Click"/>
        <ToolBarTray HorizontalAlignment="Left" Margin="10,44,0,10" Width="126" Orientation="Vertical">
            <ToolBar x:Name="formToolbar" HorizontalAlignment="Center" Height="376" VerticalAlignment="Top" Width="106" Margin="10,10,-75,-27"/>
        </ToolBarTray>
        <xctk:PropertyGrid x:Name="_propertyGrid" Margin="0,150,10,10"
                                     AutoGenerateProperties="False" HorizontalAlignment="Right" Width="257">
             <!--Only the following properties will be displayed in the PropertyGrid--> 
            <xctk:PropertyGrid.PropertyDefinitions>
                <xctk:PropertyDefinition TargetProperties="Fill" />
                <xctk:PropertyDefinition TargetProperties="Height" />
                <xctk:PropertyDefinition TargetProperties="Margin" />
                <xctk:PropertyDefinition TargetProperties="Opacity" />
                <xctk:PropertyDefinition TargetProperties="Name" />
                <xctk:PropertyDefinition TargetProperties="RadiusX" />
                <xctk:PropertyDefinition TargetProperties="RadiusY" />
                <xctk:PropertyDefinition TargetProperties="Stroke" />
                <xctk:PropertyDefinition TargetProperties="StrokeThickness" />
                <xctk:PropertyDefinition TargetProperties="Width" />
            </xctk:PropertyGrid.PropertyDefinitions>
        </xctk:PropertyGrid>
    </Grid>
</Controls:MetroWindow>
